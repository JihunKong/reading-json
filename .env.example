# Korean Reading Comprehension System - Environment Configuration
# Copy this file to .env and update with your actual values

# Database Configuration
DB_NAME=reading_db
DB_USER=postgres
DB_PASSWORD=postgres123
DB_HOST=postgres
DB_PORT=5432
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=redis123
REDIS_URL=redis://default:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0

# RabbitMQ Configuration
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_MGMT_PORT=15672
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=admin123
RABBITMQ_URL=amqp://${RABBITMQ_USER}:${RABBITMQ_PASSWORD}@${RABBITMQ_HOST}:${RABBITMQ_PORT}/

# API Services
STUDENT_API_PORT=8001
ADMIN_API_PORT=8002
STUDENT_API_URL=http://localhost:${STUDENT_API_PORT}
ADMIN_API_URL=http://localhost:${ADMIN_API_PORT}

# Frontend Configuration
FRONTEND_PORT=3000
REACT_APP_API_URL=http://localhost:${STUDENT_API_PORT}
REACT_APP_ADMIN_API_URL=http://localhost:${ADMIN_API_PORT}
REACT_APP_WS_URL=ws://localhost:${STUDENT_API_PORT}

# Nginx Configuration
NGINX_PORT=80
NGINX_SSL_PORT=443

# JWT Configuration
JWT_SECRET_KEY=your-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=10080

# LLM API Keys (Optional - for enhanced generation)
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
KOGPT_API_KEY=
HYPERCLOVAR_API_KEY=

# Upstage Solar Pro2 API (Korean-optimized LLM)
UPSTAGE_API_KEY=up_N5c0pyTaOJqoxN6xIIsQKG58VI8m0
UPSTAGE_BASE_URL=https://api.upstage.ai/v1
UPSTAGE_MODEL=solar-pro2
UPSTAGE_EMBEDDING_MODEL=embedding-query

# Embedding Models (Optional)
USE_EMBEDDINGS=false
EMBEDDING_MODEL=sentence-transformers/paraphrase-multilingual-mpnet-base-v2

# Korean NLP Settings
KONLPY_BACKEND=mecab
KOREAN_STOPWORDS_PATH=/app/data/korean_stopwords.txt

# Grading Configuration
DEFAULT_SIMILARITY_THRESHOLD=0.68
REQUIRE_POS_CHECK=true
REQUIRED_POS_TAGS=NOUN,VERB

# Content Generation Settings
DEFAULT_PARAGRAPH_COUNT=5
DEFAULT_ARTICLE_COUNT=3
DEFAULT_DIFFICULTY=medium
MAX_GENERATION_BATCH=50
GENERATION_TIMEOUT_SECONDS=300

# Session Configuration
SESSION_SECRET=your-session-secret-change-this
SESSION_EXPIRE_MINUTES=60

# CORS Settings
CORS_ORIGINS=http://localhost:3000,http://localhost:80
CORS_ALLOW_CREDENTIALS=true

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=/app/logs/app.log

# Performance Settings
MAX_WORKERS=4
CONNECTION_POOL_SIZE=20
CACHE_TTL_SECONDS=3600

# File Storage
UPLOAD_MAX_SIZE_MB=10
CONTENT_OUTPUT_DIR=/app/generator/out
REPORT_OUTPUT_DIR=/app/grader/reports

# Analytics Configuration
ENABLE_ANALYTICS=true
ANALYTICS_BATCH_SIZE=100
ANALYTICS_FLUSH_INTERVAL=60

# Email Configuration (Optional)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=noreply@reading-json.local

# Monitoring (Optional)
SENTRY_DSN=
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# Development Settings
DEBUG=false
RELOAD=true
BUILD_TARGET=development

# Production Settings (Override in production)
# SECURE_COOKIES=true
# HTTPS_ONLY=true
# RATE_LIMIT_ENABLED=true
# RATE_LIMIT_PER_MINUTE=60