# Korean Reading Comprehension System - Production Environment Configuration
# This file contains production-specific environment variables

# Application Environment
ENVIRONMENT=production
DEBUG=false
FLASK_ENV=production
RELOAD=false
BUILD_TARGET=production

# Security Configuration
SECURE_COOKIES=true
HTTPS_ONLY=true
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
SESSION_SECURE=true
CSRF_PROTECTION=true

# Database Configuration - Production
DB_NAME=reading_db_prod
DB_USER=reading_user
# DB_PASSWORD should be set as a Docker secret or environment variable
DB_HOST=postgres
DB_PORT=5432
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Redis Configuration - Production
REDIS_HOST=redis
REDIS_PORT=6379
# REDIS_PASSWORD should be set as a Docker secret
REDIS_DB=0
REDIS_POOL_MAX_CONNECTIONS=50
REDIS_SOCKET_KEEPALIVE=true
REDIS_HEALTH_CHECK_INTERVAL=30

# RabbitMQ Configuration - Production
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_MGMT_PORT=15672
# RABBITMQ_USER and RABBITMQ_PASSWORD should be set as Docker secrets
RABBITMQ_VHOST=/
RABBITMQ_HEARTBEAT=600
RABBITMQ_CONNECTION_ATTEMPTS=3

# Performance Settings
MAX_WORKERS=8
WORKER_TIMEOUT=120
WORKER_CONNECTIONS=1000
CONNECTION_POOL_SIZE=50
CACHE_TTL_SECONDS=7200
ASYNC_POOL_SIZE=10

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=/app/logs/app.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5
SYSLOG_ENABLED=true
SYSLOG_HOST=localhost
SYSLOG_PORT=514

# Monitoring Configuration
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
METRICS_EXPORT_INTERVAL=30
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_TIMEOUT=5

# File Storage - Production
UPLOAD_MAX_SIZE_MB=5
CONTENT_OUTPUT_DIR=/data/content
REPORT_OUTPUT_DIR=/data/reports
BACKUP_DIR=/data/backups
STATIC_FILE_CACHE_TTL=86400

# CORS Settings - Production
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# Email Configuration
SMTP_HOST=smtp.yourdomain.com
SMTP_PORT=587
SMTP_USE_TLS=true
# SMTP_USER and SMTP_PASSWORD should be set as Docker secrets
EMAIL_FROM=noreply@yourdomain.com
EMAIL_ADMIN=admin@yourdomain.com

# Analytics Configuration
ENABLE_ANALYTICS=true
ANALYTICS_BATCH_SIZE=500
ANALYTICS_FLUSH_INTERVAL=30
ANALYTICS_RETENTION_DAYS=90

# Korean NLP Settings
KONLPY_BACKEND=mecab
KOREAN_STOPWORDS_PATH=/app/data/korean_stopwords.txt
NLP_CACHE_SIZE=1000
NLP_WORKERS=4

# Content Generation Settings
DEFAULT_PARAGRAPH_COUNT=5
DEFAULT_ARTICLE_COUNT=3
DEFAULT_DIFFICULTY=medium
MAX_GENERATION_BATCH=100
GENERATION_TIMEOUT_SECONDS=600
GENERATION_WORKERS=4

# Grading Configuration
DEFAULT_SIMILARITY_THRESHOLD=0.68
REQUIRE_POS_CHECK=true
REQUIRED_POS_TAGS=NOUN,VERB
GRADING_TIMEOUT_SECONDS=60

# JWT Configuration
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=10080
JWT_REFRESH_EXPIRATION_DAYS=30

# Rate Limiting
RATE_LIMIT_STORAGE_URL=redis://redis:6379/1
RATE_LIMIT_DEFAULT=1000 per hour
RATE_LIMIT_LOGIN=10 per minute
RATE_LIMIT_API=5000 per hour

# Feature Flags
USE_EMBEDDINGS=true
ENABLE_CACHING=true
ENABLE_COMPRESSION=true
ENABLE_CDN=true
ENABLE_BACKGROUND_TASKS=true

# SSL/TLS Configuration
SSL_CERT_PATH=/app/certs/cert.pem
SSL_KEY_PATH=/app/certs/key.pem
SSL_CA_PATH=/app/certs/ca.pem